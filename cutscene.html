<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MAS340</title>
<script src="Scripts/jquery-3.3.1.js"></script>
<script src="Scripts/jquery-3.3.1.js"></script>
<link href="Scripts/styles.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
	<script src="Scripts/jquery.js"></script>
<script src="Scripts/jquery-ui.js"></script>

<script>
  $(document).ready(function () {
  	$('#Scene1, #prop1, #prop2, #prop3').css({
		'filter':'brightness(0)',
		'webkitFilter':'brightness(0)',
	});
	$('#Scene2').hide();
        var progress = 0;
		var dialogue;
		var character;
		eventHandler();
		$('#nextbutton, #textbox ').show();
			function eventHandler() {		
					switch (progress) {
						case 0:
						character = 'Captain';
							dialogue = "...";
							break;
						case 1:
						$('#prop1').css({
							'filter':'brightness(1)',
							'webkitFilter':'brightness(1)',
							'transition':'all 0.7s ease-out',
							'-webkit-transition':'all 0.7s ease-out',
						});
						character = 'Captain';
							dialogue = "Did you find them?"
							break;
						case 2:
						character = 'Soldier 1';
							dialogue = "No sir, they must be hiding somewhere in the vicinity."
							break;
						case 3:
						character = 'Captain';
							dialogue = "Find them!"
							break;		
						case 4:
							character = '';
							dialogue = "Yes sir!"	
							break;	
						case 5:
							character = 'Captain';
							dialogue = "...No one will leave this country...";
							$('#prop1').css({
							'filter':'brightness(0)',
							'webkitFilter':'brightness(0)',
							'transition':'all 1s ease-out',
							'-webkit-transition':'all 1s ease-out',
							}).animate({left:'-200px'});
							break;	
						case 6:
							$('#prop1').css({left:'1000px'});
							$('#nextbutton, #textbox ').fadeOut(0).delay(4000).fadeIn(0);
							character = 'Max';
							dialogue = "...";
							break;	
						case 7:
							$('#prop2, #prop3').css({
							'filter':'brightness(1)',
							'webkitFilter':'brightness(1)',
							'transition':'all 1s ease-out',
							'-webkit-transition':'all 1s ease-out',
							});
							character = 'Max';
							dialogue = "Keep running! Don't let go!";
							break;	
						case 8:
							character = '???';
							dialogue = "Wait! I can't keep up!";
							break;	
						case 9:
							character = 'Max';
							dialogue = "They're coming!!!";
							break;	
						case 10:
							$('#prop1').css({
							'filter':'brightness(1)',
							'webkitFilter':'brightness(1)',
							'transition':'all 1s ease-out',
							'-webkit-transition':'all 1s ease-out',
						});
							character = 'Captain';
							dialogue = "There they are! Get them!";
							break;	
						case 11:
							$('#prop1').css({
							'filter':'brightness(1)',
							'webkitFilter':'brightness(1)',
							'transition':'all 1s ease-out',
							'-webkit-transition':'all 1s ease-out',
							}).animate({left:'800px'},'fast');
							character = 'Soldiers';
							dialogue = "Sir! They're headed for-";
							break;	
						case 12:
							$('#Scene1').css({
							'filter':'brightness(1)',
							'webkitFilter':'brightness(1)',
							'transition':'all 1s ease-out',
							'-webkit-transition':'all 1s ease-out',
							});
							character = 'Captain';
							dialogue = "Capture them before they get into that forest!!";
							break;
						case 13:
							$('#prop2, #prop3').css({
							'filter':'brightness(0)',
							'webkitFilter':'brightness(0)',
							'transition':'all 0.2s ease-out',
							'-webkit-transition':'all 0.2s ease-out',
							}).animate({left:'-300px'}, 'fast');
							$('#prop1').css({
							'filter':'brightness(0)',
							'webkitFilter':'brightness(0)',
							'transition':'all 0.6s ease-out',
							'-webkit-transition':'all 0.6s ease-out',
							}).animate({left:'100px'}, 'slow');
							$('#Scene1').css({
							'filter':'brightness(0)',
							'webkitFilter':'brightness(0)',
							'transition':'all 1s ease-out',
							'-webkit-transition':'all 1s ease-out',
							});
							break;
						case 14:
							$('#prop2').css({left:'200px'});
							$('#prop3').css({left:'150px'});
							$('#nextbutton, #textbox ').fadeOut(0).delay(4000).fadeIn(0);
							character = '???';
							dialogue = "...";
							break;	
						case 15:
							$('#prop2, #prop3').css({
								'filter':'brightness(1)',
								'webkitFilter':'brightness(1)',
								'transition':'all 1s ease-out',
								'-webkit-transition':'all 1s ease-out',
							});
							character = '???';
							dialogue = "My necklace!! I dropped it somewhere!";
							break;	
						case 16:
							character = 'Max';
							dialogue = "Leave it or else we won't make it!";
							break;	
						case 17:
							character = '???';
							dialogue = "No! It's from my mother! I'm going back to find it!";
							break;	
						case 18:
							character = 'Max';
							dialogue = "Wait!!";
							$('#prop3').css({
								'filter':'brightness(0)',
								'webkitFilter':'brightness(0)',
								'transition':'all 1s ease-out',
								'-webkit-transition':'all 1s ease-out',
							}).animate({left:'1000px'}, 'fast');

							break;	
						case 19:
													$('#prop2').css({
								'filter':'brightness(0)',
								'webkitFilter':'brightness(0)',
								'transition':'all 1s ease-out',
								'-webkit-transition':'all 1s ease-out',
							});
							$('#prop3').css({left:'150px'});
							$('#nextbutton, #textbox ').fadeOut(0).delay(4000).fadeIn(0);
							character = 'Max';
							dialogue = "Come back!";
							break;	
						case 20:
							character = 'Max';
							dialogue = "Damn it! Where the heck did she go!?";
							break;	
						case 21:
							character = '';
							dialogue = "(Rustles)";
							break;	
						case 22:
							character = '';
							dialogue = "(Rustles)(Rustles)";
							break;
						case 23:
							character = '';
							dialogue = "(Rustles)(Rustles)(Rustles)";
							break;
						case 24:
							character = 'Soldier';
							dialogue = "Gotcha!";
							break;
						case 25:
							$('#nextbutton, #textbox ').fadeOut(0).delay(6000).fadeIn(0);
							$('#Scene1, #prop1,#prop2,#prop3').fadeOut(0).hide();
														character = 'Max';
							dialogue = "(Damn it, they caught her.)";
							$('#Scene2').fadeIn(1000);
							break;
						case 26:

							break;
													
					}
					progress++;  
					localStorage.setItem("DialogueProgress", progress);
					$('#textbox #span2').html(dialogue);	
					$('#textbox #span1').html(character);			
					};
		$('#nextbutton').click(eventHandler);	
});
</script>


</head>
<body>

<div id="background">
<img id='Scene1' src="images/cutscenes/1-1.jpg">
<img id='Scene2' src='images/cutscenes/2.jpg'>
<img id='prop1' src="images/cutscenes/1-2.png">
<img id='prop2' src="images/cutscenes/1-3.png">
<img id='prop3' src="images/cutscenes/1-4.png">

		<div id="talkbutton"><span>Chat</span></div>
		<div id="textbox">
			<span id='span1'></span>
			<span id='span2'></span>
		</div>
		<div id="nextbutton"><span>Continue</span></div>

</div>
</body>
</html>
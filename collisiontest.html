<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>MAS340</title>
<script src="Scripts/jquery-3.3.1.js"></script>
<link href="Scripts/styles.css" rel="stylesheet" />
<script src="Scripts/jquery.js"></script>
<script src="Scripts/jquery-ui.js"></script>
<script src="Scripts/e-smart-hittest-jquery.js"></script>
<script>
$(document).ready(function() { 
 var degree = 0;
 degree += 1;
var change = {
  37: {

  },

  38: {

  },

  39: {
 
  },

  40: {

  },
}
$(document).one("keydown", keyDown)

var going;

function keyDown(e) {
  console.log("down")
  $(document).one("keyup", keyup)
  console.log('"-webkit-transform":"rotate('+angle+'deg)"');
  var animation = change[e.which];
  going = setInterval(keepGoing, 1);

  function keepGoing() {
    $(".player").css(animation)
	 degree += 1;
  }

}

function keyup(e) {
  console.log("up")
  clearInterval(going)
  $(document).one("keydown", keyDown)
}

	$('.player').mousedown(function() {
		$(this).removeClass("fall");

		$(this).draggable({ revert: "valid", containment: "none" , drag: function() {
			var hit = $(this).objectHitTest({"object":$(".tunnelbackground"),"transparency":true});
			if(hit) {
				console.log("hit")
			};
		}});
		
	}).mouseup(function() {
		$(this).addClass("fall");
		var hit = $(".player").objectHitTest({"object":$(".tunnelbackground"),"transparency":true});
		if(hit) {
			console.log("hit2")
		}
	});

	

  
	


});
</script>

</head>
<body>
<div class="tunnelbackground">
<a href="inventory.html">Inventory</a>
<a href="dialoguetest.html">dialogue</a>
<a href="map.html">map</a>
<a href="collisiontest.html">collision</a>
<img class="player" src="images/player.png">
	
</div>



</body>
</html>